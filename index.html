<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>videoInfo</title>
  </head>
  <body>
    <h1>Video Info</h1>
    <form class="" action="index.html" method="post">
      <div class="">
        <label  for="">Select a video</label>
        <input type="file" name="" value="" accept="video/*">
      </div>
      <button type="submit" name="button">Get Info</button>


    </form>
    <table></table>
    <script type="text/javascript">
      document.querySelector('form').addEventListener('submit', (event) => {
        event.preventDefault();
        //debugger;
        let table = document.querySelector('table')
        let file = document.querySelector('input').files[0];
        let data = JSON.parse(JSON.stringify(file, ['name', 'type', 'size', 'lastModified']));
        data.lastModified = new Date(data.lastModified).toISOString();
      //  generateTable(table, data);
        generateTableHead(table, data);
        generateTable(table, data);
      });
      // function generateTable(table, data){
      //   for(let key in data){
      //     let row = table.insertRow();
      //
      //     let th = document.createElement('th')
      //     let htext = document.createTextNode(`${capitalize(key)}: `);
      //     th.appendChild(htext);
      //     row.appendChild(th);
      //
      //     let td = document.createElement('td');
      //     let dtext = document.createTextNode(data[key]);
      //     td.appendChild(dtext);
      //     row.appendChild(td);
      //   }
      // }
      function generateTableHead(table, data){
        let thead = table.createTHead();
        let row = thead.insertRow();
        for(let key in data){
          let th = document.createElement('th');
          let htext = document.createTextNode(key);
          th.appendChild(htext);
          row.appendChild(th);
        }
      }
      function generateTable(table, data) {
        let row = table.insertRow();
        for(let key in data){
          let cell = row.insertCell();
          let ctext = document.createTextNode(data[key]);
          cell.append(ctext);
        }
      }
      function capitalize(str){
        return str.charAt(0).toUpperCase() + str.slice(1);
      }
    </script>
  </body>
</html>
